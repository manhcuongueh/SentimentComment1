<style>
.pagination {
    margin: auto;
    margin-bottom: 10px;
    width: 40%;
    border: 1px solid grey;
    padding: 10px;
}
.pagination a {
    padding: 8px 16px;
}
</style>
<div class="row">
    <div class="col-lg-12">
      <h1 class="title text-center">Comments Statistics</h1>
      <table width="1000" align="center" class="text-left">
        <tr>
          <td><h5>Username:</h5><td>
          <td><h5> <%= @user.username%></h5><td>
        </tr>
        <tr>
          <td><h5>Number of Port:</h5><td>
          <td><h5> <%= @posts.length%></h5><td>
        </tr>
        <tr>
          <td><h5>From</h5><td>
          <td><h5><%=@posts[-1].date%></h5><td>
        </tr>
        <tr>
          <td><h5>To</h5><td>
          <td><h5><%=@posts[0].date%></h5><td>
        </tr>
        <tr>
          <td><h5>Total of Comments:</h5><td>
          <td><h5><%=@user.totalComment%></h5><td>
        </tr>
        <tr>
          <td><h5>Average Score:</h5><td>
          <td><h5><%=@user.averageScore%></h5><td>
        </tr>
         <tr>
          <td><h5>Highest Score:</h5><td>
          <td><h5><%=@user.highestScore%></h5><td>
        </tr>
        <tr>
          <td><h5>URL:</h5><td>
          <td><a href="<%=@user.highestUrl%>"><h5><%=@user.highestUrl%></h5></a><td>
        </tr>
         <tr>
          <td><h5>Lowest Score:</h5><td>
          <td><h5><%=@user.lowestScore%></h5><td>
        </tr>
        <tr>
          <td><h5>URL:</h5><td>
          <td><a href="<%=@user.lowestUrl%>"><h5><%=@user.lowestUrl%></h5></a><td>
        </tr>
      </table>
    </div>
    
    <table align="center">
          <td><%= link_to "<button class='btn btn-primary'>Download Basic Information</button>".html_safe, index_write_path(id: @id, type:"single") %><td>
          <td><%= link_to "<button class='btn btn-primary'>Download All Comments</button>".html_safe, index_write_path(id: @id, type:"all")  %><td>
          <td><%= link_to "<button class='btn btn-primary'>Download All Comments By Rank</button>".html_safe, index_write_path(id: @id, type:"rank") %><td>
    </table>
    <br></br>
    <div class="col-lg-12 form-group">
      <table class="table">
        <thead>
          <th>No</th>
          <th>Username</th>
          <th>Comments</th>
          <th>Score</th>
          <th>Post Date</th>
          <th>Link</th>
          <th>Image</th>
        </thead>
        <tbody>
         <% @allComments.each do |cm|%>
          <tr>
            <td><%=@allUserComments.index(cm)+1%></td>
            <td><b><%=cm.username %></b></td>
            <td><%=cm.body%></td>
            <td><%=cm.score%></td>
            <td width = "10%"><%=@posts.find_by_id(cm.post_id)['date']%></td>
            <td><%=link_to "#{@posts.find_by_id(cm.post_id)['link']}", @posts.find_by_id(cm.post_id)['link']%></td>
            <td><%=link_to image_tag(@posts.find_by_id(cm.post_id)['image'], height: '100', width: '100'), @posts.find_by_id(cm.post_id)['image'] %></td>
          </tr>  
        <%end%>
        </tbody>
      </table>
    </div>
  </div>
</div>
<div>
      <%= paginate @allComments %>
  </div>